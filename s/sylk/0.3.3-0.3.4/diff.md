# Comparing `tmp/sylk-0.3.3-py3-none-any.whl.zip` & `tmp/sylk-0.3.4-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,39 +1,39 @@
-Zip file size: 422184 bytes, number of entries: 275
+Zip file size: 422562 bytes, number of entries: 275
 -rw-r--r--  2.0 unx     8617 b- defN 23-Mar-20 19:45 docs/_downloads/29a3c68eabc4dfce3cc2b8f28cbf7499/test.py
 -rw-r--r--  2.0 unx    42938 b- defN 23-Mar-20 19:45 docs/_downloads/9a3170560eff0e8080a7006943761820/PubSubTs.template.py
 -rw-r--r--  2.0 unx    13027 b- defN 23-Mar-20 19:45 docs/_downloads/a8af61e20b3888c79a5cc6ff79c43632/HelloWorldPy.template.py
 -rw-r--r--  2.0 unx    13715 b- defN 23-Mar-20 19:45 docs/_downloads/cb75f7c5c4638fa0c1e352dc3e3ce4c7/HelloWorldTs.template.py
 -rw-r--r--  2.0 unx     8617 b- defN 23-Mar-20 19:45 docs/build/_downloads/29a3c68eabc4dfce3cc2b8f28cbf7499/test.py
 -rw-r--r--  2.0 unx    42938 b- defN 23-Mar-20 19:45 docs/build/_downloads/9a3170560eff0e8080a7006943761820/PubSubTs.template.py
 -rw-r--r--  2.0 unx    13027 b- defN 23-Mar-20 19:45 docs/build/_downloads/a8af61e20b3888c79a5cc6ff79c43632/HelloWorldPy.template.py
 -rw-r--r--  2.0 unx    13715 b- defN 23-Mar-20 19:45 docs/build/_downloads/cb75f7c5c4638fa0c1e352dc3e3ce4c7/HelloWorldTs.template.py
 -rw-r--r--  2.0 unx     8617 b- defN 23-Mar-20 19:45 docs/build/html/_downloads/29a3c68eabc4dfce3cc2b8f28cbf7499/test.py
 -rw-r--r--  2.0 unx    42938 b- defN 23-Mar-20 19:45 docs/build/html/_downloads/9a3170560eff0e8080a7006943761820/PubSubTs.template.py
 -rw-r--r--  2.0 unx    13027 b- defN 23-Mar-20 19:45 docs/build/html/_downloads/a8af61e20b3888c79a5cc6ff79c43632/HelloWorldPy.template.py
 -rw-r--r--  2.0 unx    13711 b- defN 23-Mar-22 23:18 docs/build/html/_downloads/cb75f7c5c4638fa0c1e352dc3e3ce4c7/HelloWorldTs.template.py
--rw-r--r--  2.0 unx     1274 b- defN 23-Aug-04 11:08 docs/source/conf.py
+-rw-r--r--  2.0 unx     1274 b- defN 23-Aug-06 13:06 docs/source/conf.py
 -rw-r--r--  2.0 unx      339 b- defN 23-Jun-06 21:25 sylk/__init__.py
--rw-r--r--  2.0 unx       21 b- defN 23-Aug-04 11:08 sylk/__version__.py
--rw-r--r--  2.0 unx      758 b- defN 23-Aug-04 11:08 sylk/config.py
+-rw-r--r--  2.0 unx       21 b- defN 23-Aug-06 13:06 sylk/__version__.py
+-rw-r--r--  2.0 unx      758 b- defN 23-Aug-06 13:05 sylk/config.py
 -rw-r--r--  2.0 unx    14295 b- defN 23-Jul-31 22:06 sylk/architect/__init__.py
 -rw-r--r--  2.0 unx     3059 b- defN 23-Jul-22 20:00 sylk/architect/commands.py
 -rw-r--r--  2.0 unx     1226 b- defN 23-Mar-22 19:43 sylk/architect/hooks.py
 -rw-r--r--  2.0 unx    13525 b- defN 23-Jul-22 20:00 sylk/architect/invoker.py
 -rw-r--r--  2.0 unx     1677 b- defN 23-Mar-22 19:48 sylk/architect/interfaces/__init__.py
 -rw-r--r--  2.0 unx    13656 b- defN 23-Jul-27 15:42 sylk/architect/recievers/__init__.py
 -rw-r--r--  2.0 unx      186 b- defN 23-Mar-22 20:12 sylk/builder/__init__.py
--rw-r--r--  2.0 unx     4870 b- defN 23-Jul-14 12:08 sylk/builder/plugins/SylkBase.py
+-rw-r--r--  2.0 unx     4965 b- defN 23-Aug-06 12:03 sylk/builder/plugins/SylkBase.py
 -rw-r--r--  2.0 unx     8509 b- defN 23-Jul-28 18:58 sylk/builder/plugins/SylkGoClient.py
 -rw-r--r--  2.0 unx    10833 b- defN 23-Jul-28 17:40 sylk/builder/plugins/SylkGoServer.py
 -rw-r--r--  2.0 unx     9940 b- defN 23-Jul-12 21:24 sylk/builder/plugins/SylkJsClient.py
 -rw-r--r--  2.0 unx     7071 b- defN 23-Jul-12 21:24 sylk/builder/plugins/SylkJsServer.py
 -rw-r--r--  2.0 unx    25917 b- defN 23-Jul-12 21:24 sylk/builder/plugins/SylkMigrate.py
 -rw-r--r--  2.0 unx     2039 b- defN 23-Jul-12 21:24 sylk/builder/plugins/SylkPlugins.py
--rw-r--r--  2.0 unx    15394 b- defN 23-Jul-28 17:41 sylk/builder/plugins/SylkProto.py
+-rw-r--r--  2.0 unx    15528 b- defN 23-Aug-05 20:07 sylk/builder/plugins/SylkProto.py
 -rw-r--r--  2.0 unx    23411 b- defN 23-Jul-31 14:32 sylk/builder/plugins/SylkPyClient.py
 -rw-r--r--  2.0 unx    24221 b- defN 23-Jul-27 12:52 sylk/builder/plugins/SylkPyServer.py
 -rw-r--r--  2.0 unx     9288 b- defN 23-Jul-28 18:42 sylk/builder/plugins/SylkReadme.py
 -rw-r--r--  2.0 unx    12058 b- defN 23-Jul-31 21:19 sylk/builder/plugins/SylkTsClient.py
 -rw-r--r--  2.0 unx    18541 b- defN 23-Jul-31 12:56 sylk/builder/plugins/SylkTsServer.py
 -rw-r--r--  2.0 unx        0 b- defN 23-Mar-22 19:48 sylk/builder/plugins/__init__.py
 -rw-r--r--  2.0 unx    26787 b- defN 23-Aug-03 21:29 sylk/builder/plugins/static.py
@@ -54,28 +54,28 @@
 -rw-r--r--  2.0 unx    55267 b- defN 23-Jul-27 13:33 sylk/cli/commands/edit.py
 -rw-r--r--  2.0 unx    21960 b- defN 23-Mar-22 19:08 sylk/cli/commands/extend.py
 -rw-r--r--  2.0 unx    41708 b- defN 23-Aug-01 10:38 sylk/cli/commands/generate.py
 -rw-r--r--  2.0 unx    20520 b- defN 23-Jul-16 20:50 sylk/cli/commands/ls.py
 -rw-r--r--  2.0 unx     2257 b- defN 23-Jun-07 10:35 sylk/cli/commands/migrate.py
 -rw-r--r--  2.0 unx    16017 b- defN 23-Aug-02 20:10 sylk/cli/commands/new.py
 -rw-r--r--  2.0 unx     6923 b- defN 23-Jul-16 18:54 sylk/cli/commands/package.py
--rw-r--r--  2.0 unx     3689 b- defN 23-Jul-25 10:43 sylk/cli/commands/plugin.py
+-rw-r--r--  2.0 unx     3689 b- defN 23-Aug-05 17:58 sylk/cli/commands/plugin.py
 -rw-r--r--  2.0 unx     1498 b- defN 23-Jul-16 10:30 sylk/cli/commands/run.py
 -rw-r--r--  2.0 unx    28044 b- defN 23-Jun-07 10:39 sylk/cli/commands/template.py
 -rw-r--r--  2.0 unx        0 b- defN 23-Mar-22 18:02 sylk/commons/__init__.py
 -rw-r--r--  2.0 unx     2158 b- defN 23-Mar-22 20:09 sylk/commons/client_wrapper.py
 -rw-r--r--  2.0 unx    10725 b- defN 23-Jul-24 19:47 sylk/commons/config.py
 -rw-r--r--  2.0 unx     2315 b- defN 23-Jun-11 09:39 sylk/commons/errors.py
 -rw-r--r--  2.0 unx     4882 b- defN 23-Jul-19 20:28 sylk/commons/file_system.py
--rw-r--r--  2.0 unx   207631 b- defN 23-Aug-04 11:05 sylk/commons/helpers.py
+-rw-r--r--  2.0 unx   210418 b- defN 23-Aug-06 12:56 sylk/commons/helpers.py
 -rw-r--r--  2.0 unx     9426 b- defN 23-Jun-11 09:39 sylk/commons/interceptors.py
 -rw-r--r--  2.0 unx     2711 b- defN 23-Mar-22 18:25 sylk/commons/parser.py
 -rw-r--r--  2.0 unx     2665 b- defN 23-Mar-22 18:51 sylk/commons/pretty.py
 -rw-r--r--  2.0 unx    46086 b- defN 23-Jul-16 18:10 sylk/commons/resources.py
--rw-r--r--  2.0 unx    33801 b- defN 23-Jul-31 21:59 sylk/commons/sylk.py
+-rw-r--r--  2.0 unx    33773 b- defN 23-Aug-06 12:08 sylk/commons/sylk.py
 -rw-r--r--  2.0 unx        0 b- defN 23-Jul-22 20:26 sylk/commons/modules/__init__.py
 -rw-r--r--  2.0 unx     1812 b- defN 23-Jul-20 10:25 sylk/commons/modules/google/__init__.py
 -rw-r--r--  2.0 unx    73411 b- defN 23-Jul-20 12:42 sylk/commons/protos/__init__.py
 -rw-r--r--  2.0 unx        0 b- defN 23-Jul-11 07:53 sylk/commons/protos/sylk/__init__.py
 -rw-r--r--  2.0 unx        0 b- defN 23-Jul-11 07:53 sylk/commons/protos/sylk/Activities/__init__.py
 -rw-r--r--  2.0 unx     1443 b- defN 23-Jul-20 11:18 sylk/commons/protos/sylk/Activities/v1/Activities_pb2.py
 -rw-r--r--  2.0 unx     4570 b- defN 23-Jul-18 14:01 sylk/commons/protos/sylk/Activities/v1/Activities_pb2_grpc.py
@@ -264,14 +264,14 @@
 -rw-r--r--  2.0 unx     1887 b- defN 23-Jun-11 09:56 sylk/types/google/rpc/http_pb2.py
 -rw-r--r--  2.0 unx     1518 b- defN 23-Jun-11 09:56 sylk/types/google/rpc/status_pb2.py
 -rw-r--r--  2.0 unx        0 b- defN 23-Jun-06 21:27 sylk/types/sylk/__init__.py
 -rw-r--r--  2.0 unx        0 b- defN 23-Jun-06 21:27 sylk/types/sylk/io/__init__.py
 -rw-r--r--  2.0 unx     1428 b- defN 23-Jun-11 09:56 sylk/types/sylk/io/pagination_pb2.py
 -rw-r--r--  2.0 unx     2843 b- defN 23-Jun-11 09:58 sylk/types/sylk/io/service_config_pb2.py
 -rw-r--r--  2.0 unx     1678 b- defN 23-Jul-18 14:12 tests/test.py
--rw-r--r--  2.0 unx     1053 b- defN 23-Aug-04 11:08 sylk-0.3.3.dist-info/LICENSE
--rw-r--r--  2.0 unx    10238 b- defN 23-Aug-04 11:08 sylk-0.3.3.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-Aug-04 11:08 sylk-0.3.3.dist-info/WHEEL
--rw-r--r--  2.0 unx       48 b- defN 23-Aug-04 11:08 sylk-0.3.3.dist-info/entry_points.txt
--rw-r--r--  2.0 unx       16 b- defN 23-Aug-04 11:08 sylk-0.3.3.dist-info/top_level.txt
--rw-rw-r--  2.0 unx    27778 b- defN 23-Aug-04 11:08 sylk-0.3.3.dist-info/RECORD
-275 files, 1659159 bytes uncompressed, 376400 bytes compressed:  77.3%
+-rw-r--r--  2.0 unx     1053 b- defN 23-Aug-06 13:06 sylk-0.3.4.dist-info/LICENSE
+-rw-r--r--  2.0 unx    10230 b- defN 23-Aug-06 13:06 sylk-0.3.4.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-Aug-06 13:06 sylk-0.3.4.dist-info/WHEEL
+-rw-r--r--  2.0 unx       48 b- defN 23-Aug-06 13:06 sylk-0.3.4.dist-info/entry_points.txt
+-rw-r--r--  2.0 unx       16 b- defN 23-Aug-06 13:06 sylk-0.3.4.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx    27778 b- defN 23-Aug-06 13:06 sylk-0.3.4.dist-info/RECORD
+275 files, 1662139 bytes uncompressed, 376778 bytes compressed:  77.3%
```

## zipnote {}

```diff
@@ -801,26 +801,26 @@
 
 Filename: sylk/types/sylk/io/service_config_pb2.py
 Comment: 
 
 Filename: tests/test.py
 Comment: 
 
-Filename: sylk-0.3.3.dist-info/LICENSE
+Filename: sylk-0.3.4.dist-info/LICENSE
 Comment: 
 
-Filename: sylk-0.3.3.dist-info/METADATA
+Filename: sylk-0.3.4.dist-info/METADATA
 Comment: 
 
-Filename: sylk-0.3.3.dist-info/WHEEL
+Filename: sylk-0.3.4.dist-info/WHEEL
 Comment: 
 
-Filename: sylk-0.3.3.dist-info/entry_points.txt
+Filename: sylk-0.3.4.dist-info/entry_points.txt
 Comment: 
 
-Filename: sylk-0.3.3.dist-info/top_level.txt
+Filename: sylk-0.3.4.dist-info/top_level.txt
 Comment: 
 
-Filename: sylk-0.3.3.dist-info/RECORD
+Filename: sylk-0.3.4.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## docs/source/conf.py

```diff
@@ -8,15 +8,15 @@
 
 import sys
 
 
 project = 'sylk'
 copyright = 'sylk 2022, Amit Shmulevitch'
 author = 'Amit Shmulevitch'
-release = '0.3.3'
+release = '0.3.4'
 
 sys.path.append('/Users/amitshmulevitch/Projects/sylk/sylk')
 # -- General configuration ---------------------------------------------------
 # https://www.sphinx-doc.org/en/master/usage/configuration.html#general-configuration
 extensions = [
     'sphinx.ext.duration',
     'sphinx.ext.doctest',
```

## sylk/__version__.py

```diff
@@ -1 +1 @@
-__version__ = '0.3.3'
+__version__ = '0.3.4'
```

## sylk/builder/plugins/SylkBase.py

```diff
@@ -19,19 +19,21 @@
 # OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 # WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 
 import logging
 import sylk.builder as builder
 from sylk.commons import helpers, file_system, pretty
 from sylk.commons.errors import SylkValidationError
+from sylk.commons.modules.google import google
 
 
 @builder.hookimpl
 def pre_build(sylk_json: helpers.SylkJson, sylk_context: helpers.SylkContext):
     pretty.print_info("ðŸ”Œ Starting sylk build process %s plugin" % (__name__))
+    sylk_json._proto_tree.load_module(google())
 
     directories = [
         # Clients
         file_system.join_path(sylk_json.path, "clients"),
         file_system.join_path(sylk_json.path, "services", "protos", sylk_json.domain),
         file_system.join_path(sylk_json.path, "protos"),
         file_system.join_path(sylk_json.path, "protos", sylk_json.domain),
```

## sylk/builder/plugins/SylkProto.py

```diff
@@ -272,24 +272,26 @@
             if pkg.messages is not None:
                 msgs = [
                     m.full_name for m in pkg.messages if m.tag == ''
                 ]
             
             if len(enums) > 0 or len(msgs) > 0 or len(svcs) > 0:
                 proto = helpers.SylkProtoFile(pkg.name,pkg,sylk_json)
+                print_info('writing proto file-> '+proto._file_path)
                 file_system.wFile(
                     proto._file_path,
                     proto.to_str(),
                     True,
                     False,
                     True,
                 )
             
         else:
             proto = helpers.SylkProtoFile(pkg.name,pkg,sylk_json)
+            print_info('writing proto file-> '+proto._file_path)
             file_system.wFile(
                 proto._file_path,
                 proto.to_str(),
                 True,
                 False,
                 True,
             )
```

## sylk/commons/helpers.py

```diff
@@ -3293,47 +3293,55 @@
                         f"{svc_name}.go",
                     ),
                     svc_code,
                     overwrite=True,
                     force=True,
                 )
 
+    def _camelize_string(self,s):
+        words = s.split('_')
+        return words[0][0].upper() + words[0][1:] + ''.join(word.title() for word in words[1:])
+
+
     def write_imports(self, s):
         list_of_services = ["// Importing services"]
         list_of_packages = ["// Importing packages"]
 
         files = self._sylk_json._proto_tree.get_all_file_paths()
         imports = []
         go_package_path = self._sylk_json.project.get("goPackage")
         for mod in files:
+            print(mod)
             mod_path = '.'.join(mod.split('/')[:-1])
             mod_name = mod.split('/')[-1].split('.')[0]
             ver = self._sylk_json._proto_tree._parse_version_component(mod_path)
             if ver is not None:
                 version = mod_path.split('.')[-1]
             else:
+                mod_path = '.'.join(mod.split('/')[:-1])+'.'+self._camelize_string(mod.split('/')[-1].split('.')[0])
                 version = ''
             if mod_path.split('.')[0] != self._sylk_json._proto_tree.root.name:
                 base_protos = ''
                 root = self._sylk_json._proto_tree.proto_modules[mod_path.split('.')[0]].root
                 dep_parent = self._sylk_json._proto_tree.proto_modules[mod_path.split('.')[0]].get_parent(mod_path)
                 msg_dep =self._sylk_json._proto_tree._find_node(mod_path,root) 
-                if parse_version_component(dep_parent.full_path) is not None:
-                    temp_name = dep_parent.full_path.split('.')[-2]
-                else:
-                    temp_name = dep_parent.name
-                dep_mod_name = temp_name if msg_dep.properties.get('tag') is None or msg_dep.properties.get('tag') == '' else msg_dep.properties.get('tag')
-                if "google.protobuf" in mod_path:
-                    imp_path = f'{dep_mod_name}pb "google.golang.org/protobuf/types/known/{dep_mod_name}pb"'
-                    if imp_path not in imports:
-                        imports.append(imp_path)
-                else:
-                    imp_path = f'"{base_protos}{mod_path.replace(".","/")}"' 
-                    if imp_path not in imports:
-                        imports.append(imp_path)
+                if msg_dep is not None:
+                    if parse_version_component(dep_parent.full_path) is not None:
+                        temp_name = msg_dep.full_path.split('.')[-2]
+                    else:
+                        temp_name = msg_dep.name
+                    dep_mod_name = temp_name if msg_dep.properties.get('tag') is None or msg_dep.properties.get('tag') == '' else msg_dep.properties.get('tag')
+                    if "google.protobuf" in mod_path:
+                        imp_path = f'{dep_mod_name}pb "google.golang.org/protobuf/types/known/{dep_mod_name}pb"'
+                        if imp_path not in imports:
+                            imports.append(imp_path)
+                    else:
+                        imp_path = f'"{base_protos}{mod_path.replace(".","/")}"' 
+                        if imp_path not in imports:
+                            imports.append(imp_path)
             else:
                 base_protos = f'{self._sylk_json._root_protos}/' if self._sylk_json._root_protos is not None and self._sylk_json._root_protos != '' else ''
                 imp_path = f'"{go_package_path}/services/{base_protos}{mod_path.replace(".","/")}"' 
                 if imp_path not in imports:
                     imports.append(imp_path)
 
         # svc_domain = self._services[s].get("fullName").split(".")[0]
@@ -3534,15 +3542,19 @@
         )
 
     def write_methods(self, s):
         list_of_rpcs = []
         svc = s
         svc_name = s.get('name')
         for r in svc.get("methods"):
-            ref_node = self._sylk_json._proto_tree._find_node(r.get("inputType"),self._sylk_json._proto_tree.root)
+            root = self._sylk_json._proto_tree.root
+            if r.get("inputType").split('.')[0] != root.name:
+                root = self._sylk_json._proto_tree.proto_modules[r.get("inputType").split('.')[0]].root
+
+            ref_node = self._sylk_json._proto_tree._find_node(r.get("inputType"),root)
             ref_node_parent = self._sylk_json._proto_tree.get_parent(ref_node.full_path)
             pkg_ver = parse_version_component(ref_node_parent.full_path)
             if pkg_ver is not None:
                 ref_node_parent = self._sylk_json._proto_tree.get_parent(ref_node_parent.full_path)
                 rpc_msg_in_pkg = ref_node_parent.name + f'v{pkg_ver.get("version")}{pkg_ver.get("channel") if pkg_ver.get("channel") is not None else ""}{pkg_ver.get("release") if pkg_ver.get("release") is not None else ""}'
             else:
                 rpc_msg_in_pkg = ref_node_parent.full_path.split('.')[-1]
@@ -3550,15 +3562,18 @@
             rpc_msg_input_type = (
                 r.get("inputType").split(".")[-1][0].upper()
                 + r.get("inputType").split(".")[-1][1:]
             )
             if "google.protobuf" in r.get("inputType"):
                 well_known = r.get("inputType").split(".")[-1].lower()
                 rpc_msg_in_pkg = f"{well_known}pb"
-            ref_node = self._sylk_json._proto_tree._find_node(r.get("outputType"),self._sylk_json._proto_tree.root)
+            root= self._sylk_json._proto_tree.root
+            if r.get("outputType").split('.')[0] != root.name:
+                root = self._sylk_json._proto_tree.proto_modules[r.get("outputType").split('.')[0]].root
+            ref_node = self._sylk_json._proto_tree._find_node(r.get("outputType"),root)
             ref_node_parent = self._sylk_json._proto_tree.get_parent(ref_node.full_path)
             pkg_ver = parse_version_component(ref_node_parent.full_path)
             if pkg_ver is not None:
                 ref_node_parent = self._sylk_json._proto_tree.get_parent(ref_node_parent.full_path)
                 rpc_msg_out_pkg = ref_node_parent.name + f'v{pkg_ver.get("version")}{pkg_ver.get("channel") if pkg_ver.get("channel") is not None else ""}{pkg_ver.get("release") if pkg_ver.get("release") is not None else ""}'
             else:
                 rpc_msg_out_pkg = ref_node_parent.full_path.split('.')[-1]
@@ -3720,27 +3735,31 @@
                 if dep_parent_version is not None:
                     channel = dep_mod_version.get("channel","") if dep_mod_version.get("channel") is not None else ''
                     release = dep_mod_version.get("release","") if dep_mod_version.get("release") is not None else ''
                     dep_mod_version = f'v{dep_mod_version.get("version")}{channel}{release}'
                     temp_name = dep_parent.full_path.split('.')[-2]
                 else:
                     temp_name = dep_parent.name
-                    dep_mod_version = ""
+                    dep_parent_version = ""
                 dep_mod_name = temp_name if msg_dep.properties.get('tag') is None or msg_dep.properties.get('tag') == '' else msg_dep.properties.get('tag')
                 imp_path = f'{dep_mod_name}{dep_parent_version} "{dep_parent.full_path.replace(".","/")}"'
+                if 'google.protobuf' in dep_parent.full_path:
+                    imp_path = f'{dep_mod_name}pb "google.golang.org/protobuf/types/known/{dep_mod_name}pb"'
             if imp_path not in list_d:
                 list_d.append(
                     imp_path
                 )
         base_path = f'{go_package_name}/services/' if self._sylk_json._root_protos is None or self._sylk_json._root_protos == '' else f'{go_package_name}/services/{base_protos}/'
         imp_path = f'{module_name}{pkg_ver} "{base_path}{parent.full_path.replace(".","/")}"'
+        
         if imp_path not in list_d:
             list_d.append(
                     imp_path
                 )
+        list_d.append(f'"{go_package_name}/services/utils"')
         list_d = "\n".join(list_d)
         return f"{list_d}"
         # # 
         # if self._imports is not None:
         #     go_package_name = self._sylk_json.project.get("goPackage")
         #     name = self._name.split("/")[-1].split(".")[0]
         #     path = "/".join(self._name.split("/")[:-1])
@@ -3772,28 +3791,35 @@
         # else:
         #     # When service is standalone we need to make sure that the defaults packages are imported
         #     go_package_name = self._sylk_json.project.get("goPackage")
         #     name = self._name.split("/")[-1].split(".")[0]
         #     path = "/".join(self._name.split("/")[:-1])
         #     ver = self._name.split("/")[-2]
         #     list_d.append(f'{name}{ver} "{go_package_name}/services/{path}"')
-        #     list_d.append(f'"{go_package_name}/services/utils"')
         #     list_d = "\n\t".join(list_d)
         #     return f"{list_d}"
 
     def write_struct(self):
         ver = parse_version_component(self._service.get('fullName'))
         if ver is not None:
             ver = f'v{ver.get("version")}{ver.get("channel") if ver.get("channel") is not None else ""}{ver.get("release") if ver.get("release") is not None else ""}'
         else:
             ver = ''
         name = self._name
         temp_name = name[0].capitalize() + name[1:]
-        return "type {0} struct {1}\n\t{3}{4}.Unimplemented{0}Server\n{2}".format(
-            temp_name, _OPEN_BRCK, _CLOSING_BRCK, name, ver
+        ver = parse_version_component(self._service.get('fullName'))
+        if ver is not None:
+            ver = f'v{ver.get("version")}{ver.get("channel") if ver.get("channel") is not None else ""}{ver.get("release") if ver.get("release") is not None else ""}'
+            svc_name = self._service.get('fullName').split('.')[-3] + ver
+        else:
+            svc_name = self._service.get('fullName').split('.')[-2]
+        dep_mod_name = svc_name if self._service.get('tag') is None or self._service.get('tag') == '' else self._service.get('tag')
+
+        return "type {0} struct {1}\n\t{3}.Unimplemented{0}Server\n{2}".format(
+            temp_name, _OPEN_BRCK, _CLOSING_BRCK, dep_mod_name
         )
 
     def write_methods(self):
         name = self._name.split("/")[-1].split(".")[0]
         temp_name = name[0].capitalize() + name[1:]
         list_of_rpcs = []
         for rpc in self._service.get("methods"):
@@ -3810,27 +3836,45 @@
             )
             rpc_input_name = rpc.get("inputType").split(".")[-1]
             if "google.protobuf." in rpc.get("inputType"):
                 rpc_input_package_name = "{0}pb".format(
                     rpc.get("inputType").split(".")[-1]
                 ).lower()
             else:
+                ver = parse_version_component(rpc.get("inputType"))
+                ref_node = self._sylk_json._proto_tree.get_parent(rpc.get("inputType"))
+                if ver is not None:
+                    ver = f'v{ver.get("version")}{ver.get("channel") if ver.get("channel") is not None else ""}{ver.get("release") if ver.get("release") is not None else ""}'
+                    pkg_name = ref_node.full_path.split('.')[-2]
+                else:
+                    pkg_name = ref_node.name
+                    ver = ''
+                dep_mod_name = pkg_name if ref_node.properties.get('tag') is None or ref_node.properties.get('tag') == '' else ref_node.properties.get('tag')
                 rpc_input_package_name = (
-                    rpc.get("inputType").split(".")[1]
-                    + rpc.get("inputType").split(".")[2]
+                    dep_mod_name
+                    + ver
                 )
             rpc_output_name = rpc.get("outputType").split(".")[-1]
             if "google.protobuf." in rpc.get("outputType"):
                 rpc_output_package_name = "{0}pb".format(
                     rpc.get("outputType").split(".")[-1]
                 ).lower()
             else:
+                ver = parse_version_component(rpc.get("outputType"))
+                ref_node = self._sylk_json._proto_tree.get_parent(rpc.get("outputType"))
+                if ver is not None:
+                    ver = f'v{ver.get("version")}{ver.get("channel") if ver.get("channel") is not None else ""}{ver.get("release") if ver.get("release") is not None else ""}'
+                    pkg_name = ref_node.full_path.split('.')[-2]
+                else:
+                    pkg_name = ref_node.name
+                    ver = ''
+                dep_mod_name = pkg_name if ref_node.properties.get('tag') is None or ref_node.properties.get('tag') == '' else ref_node.properties.get('tag')
                 rpc_output_package_name = (
-                    rpc.get("outputType").split(".")[1]
-                    + rpc.get("outputType").split(".")[2]
+                    dep_mod_name
+                    + ver
                 )
             temp_go_rpc_input_name = rpc_input_name[0].capitalize() + rpc_input_name[1:]
             temp_go_rpc_output_name = (
                 rpc_output_name[0].capitalize() + rpc_output_name[1:]
             )
             rpc_description = rpc.get("description")
 
@@ -3849,15 +3893,15 @@
                 )
             # Client stream
             elif rpc_input_type == True and rpc_output_type == False:
                 list_of_rpcs.append(
                     "\n".join(
                         [
                             f"\n\n// [sylk.build] - {name}.{rpc_temp_name} - {rpc_description}",
-                            f"func ({name}Servicer *{temp_name}) {rpc_temp_name}(stream {name}Servicer.{temp_name}_{rpc_temp_name}Server) (err error) {_OPEN_BRCK}",
+                            f"func ({name}Servicer *{temp_name}) {rpc_temp_name}(stream {rpc_output_package_name}.{temp_name}_{rpc_temp_name}Server) (err error) {_OPEN_BRCK}",
                             f'\tprintLog("{rpc_temp_name}",stream.Context(), nil)',
                             f"\tfor {_OPEN_BRCK}",
                             f"\t\tclientStreamRequest, err := stream.Recv()",
                             f"\t\tif err == io.EOF {_OPEN_BRCK}",
                             f'\t\t\tutils.ErrorLogger.Printf("[{rpc_temp_name}] Client stream closed.")',
                             f"\t\t\tbreak",
                             f"\t\t{_CLOSING_BRCK}",
@@ -3875,15 +3919,15 @@
                 )
             # Server stream
             elif rpc_input_type == False and rpc_output_type == True:
                 list_of_rpcs.append(
                     "\n".join(
                         [
                             f"\n\n// [sylk.build] - {name}.{rpc_temp_name} - {rpc_description}",
-                            f"func ({name}Servicer *{temp_name}) {rpc_temp_name}({rpc_input_name} *{rpc_input_package_name}.{temp_go_rpc_input_name}, stream {name}Servicer.{temp_name}_{rpc_temp_name}Server) (err error) {_OPEN_BRCK}",
+                            f"func ({name}Servicer *{temp_name}) {rpc_temp_name}({rpc_input_name} *{rpc_input_package_name}.{temp_go_rpc_input_name}, stream {rpc_output_package_name}.{temp_name}_{rpc_temp_name}Server) (err error) {_OPEN_BRCK}",
                             f'\tprintLog("{rpc_temp_name}",stream.Context(), nil)',
                             f"\t// Do loop for responses",
                             f"\treturn nil",
                             f"{_CLOSING_BRCK}",
                         ]
                     )
                 )
```

## sylk/commons/sylk.py

```diff
@@ -218,15 +218,15 @@
         return self._dfs(self.root)
 
     def bfs_traversal(self):
         self._bfs(self.root)
 
     def get_parent(self, node_name) -> Node:
         if node_name.split(".")[0] != self.root.name:
-            n = self._find_node(node_name, self.proto_modules[node_name.split(".")[0]].root)
+            n = self.proto_modules[node_name.split(".")[0]].root
         else:
             n = self.root
         return self._find_parent(node_name, n)
 
     def get_parents_refs(self, refs) -> List[str]:
         packages_paths = []
         for ref in refs:
```

## Comparing `sylk-0.3.3.dist-info/LICENSE` & `sylk-0.3.4.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `sylk-0.3.3.dist-info/METADATA` & `sylk-0.3.4.dist-info/METADATA`

 * *Files 2% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: sylk
-Version: 0.3.3
+Version: 0.3.4
 Summary: sylk CLI build, deploy and manage gRPC microservices.
 Author-email: Sylk Developers <contact@sylk.build>
 License: Copyright (c) 2023 sylk.build
         
         Permission is hereby granted, free of charge, to any person obtaining
         a copy of this software and associated documentation files (the
         "Software"), to deal in the Software without restriction, including
@@ -29,20 +29,20 @@
 Keywords: grpc,micro-services,cli,framework
 Classifier: License :: OSI Approved :: MIT License
 Classifier: Programming Language :: Python
 Classifier: Programming Language :: Python :: 3
 Requires-Python: >=3.7
 Description-Content-Type: text/markdown
 License-File: LICENSE
-Requires-Dist: pluggy (<1.0,>=0.3)
+Requires-Dist: pluggy <1.0,>=0.3
 Requires-Dist: inquirer
 Requires-Dist: prettytable
-Requires-Dist: protobuf (<=4.23.2)
-Requires-Dist: grpcio (==1.54.2)
-Requires-Dist: grpcio-tools (==1.54.2)
+Requires-Dist: protobuf <=4.23.2
+Requires-Dist: grpcio ==1.54.2
+Requires-Dist: grpcio-tools ==1.54.2
 Provides-Extra: build
 Requires-Dist: build ; extra == 'build'
 Requires-Dist: twine ; extra == 'build'
 Provides-Extra: dev
 Requires-Dist: bumpver ; extra == 'dev'
 Provides-Extra: docs
 Requires-Dist: sylk-docs ; extra == 'docs'
```

## Comparing `sylk-0.3.3.dist-info/RECORD` & `sylk-0.3.4.dist-info/RECORD`

 * *Files 1% similar despite different names*

```diff
@@ -6,33 +6,33 @@
 docs/build/_downloads/9a3170560eff0e8080a7006943761820/PubSubTs.template.py,sha256=TUJptneqPJjpVyPhVwyoIaabjiQ6LWdTLksIdhn3JiY,42938
 docs/build/_downloads/a8af61e20b3888c79a5cc6ff79c43632/HelloWorldPy.template.py,sha256=BbjFjDPs3uerhPSknBuXLICVBwa2VqZScZjJ8_qhnek,13027
 docs/build/_downloads/cb75f7c5c4638fa0c1e352dc3e3ce4c7/HelloWorldTs.template.py,sha256=_Vj2A-pra8qCZr2WBUvVz3XGcAk7EEFV5e_ORY8A2hw,13715
 docs/build/html/_downloads/29a3c68eabc4dfce3cc2b8f28cbf7499/test.py,sha256=wr6fFQdeXx1JQleaLLWg5kNTD44WgAk4kHDz2DwFOm0,8617
 docs/build/html/_downloads/9a3170560eff0e8080a7006943761820/PubSubTs.template.py,sha256=TUJptneqPJjpVyPhVwyoIaabjiQ6LWdTLksIdhn3JiY,42938
 docs/build/html/_downloads/a8af61e20b3888c79a5cc6ff79c43632/HelloWorldPy.template.py,sha256=BbjFjDPs3uerhPSknBuXLICVBwa2VqZScZjJ8_qhnek,13027
 docs/build/html/_downloads/cb75f7c5c4638fa0c1e352dc3e3ce4c7/HelloWorldTs.template.py,sha256=6AY6jx7Ye77B9q7Zya_uVALqqErHrB3CXifUOCTHI9Y,13711
-docs/source/conf.py,sha256=Z24XBfFR3XA5bswu3J8Kz_EGIRP8aBwrgyYsG71Y5SI,1274
+docs/source/conf.py,sha256=Q_rSfKcqPxSqN0ZZE_4v2R32UwRluom3VT0zXFrc8gI,1274
 sylk/__init__.py,sha256=BRWkL28TZbJ_ofHDXI3uOAae63Tnd58kJmGyFqP3v68,339
-sylk/__version__.py,sha256=JDRpXqOC0txw4_CqkfpSl89CczeXGgyjX4XSSLChyQg,21
+sylk/__version__.py,sha256=SH0xuWVUkyLHZJwWBZ8GJoeliTeYFcqA6TWJgrkLv-U,21
 sylk/config.py,sha256=xwD94uC-xq64U0byaZWJahQVoGrva1KdOt2u5Zj-jLc,758
 sylk/architect/__init__.py,sha256=zW3ZBXUyVXMYK9O-VSC3svQiV3diFhJJX-1EaDN5rMw,14295
 sylk/architect/commands.py,sha256=32gLlEsuDQAiGUfxbsJiM3Ah1QyXKUXnAJAt8UezBds,3059
 sylk/architect/hooks.py,sha256=K_aoreSwTsNINBrWVdQqAOR1p64DfNjf0oYviT1WZlk,1226
 sylk/architect/invoker.py,sha256=umlfFv94zAv_pTdNdK_D6mvqHc4PJYczC-irGTIaTqo,13525
 sylk/architect/interfaces/__init__.py,sha256=e3Xgq335FGWafgtQxjR0Yw3CTlQhO5Sjq-0y5wyjaSk,1677
 sylk/architect/recievers/__init__.py,sha256=EmN3neUcDudRGSuHk_QX6nigS11cz3iF2H15cvKA7tE,13656
 sylk/builder/__init__.py,sha256=FeqErUd6s-eKvFvbM5jsarqgDku2fX_pnQcl0HB7nZU,186
-sylk/builder/plugins/SylkBase.py,sha256=iOPEpdKhE1C-IwFArbU-6qOp5reoyFLXCnMQiUdax94,4870
+sylk/builder/plugins/SylkBase.py,sha256=aNM2JN6VfVn3Dft8NTo336aT8TTTx2lxdPnlpDGp6Ps,4965
 sylk/builder/plugins/SylkGoClient.py,sha256=6UOSsRt2i6m4eKcM9eao5jjohiWEYV9dZKlbAZkIu44,8509
 sylk/builder/plugins/SylkGoServer.py,sha256=ly-R6YMw8ZBh0SSI1f9ZwCc7ciS8PZnMm-YgpsUli60,10833
 sylk/builder/plugins/SylkJsClient.py,sha256=MVi3X51g3VMjf9qx6KQ0DLz92jGHFcYuOanANK9uiaI,9940
 sylk/builder/plugins/SylkJsServer.py,sha256=A--oUILzT8X61nLv-nSuyAEScUretq3Y-HqY__8-nxA,7071
 sylk/builder/plugins/SylkMigrate.py,sha256=qRktoWaQagz_4RbrAW3rPPWgvq9ayLtmGUJ35WvjFx4,25917
 sylk/builder/plugins/SylkPlugins.py,sha256=pi1xq8abIWM0coBL7Ey_rWU93fezjg-s9xk75CdeApw,2039
-sylk/builder/plugins/SylkProto.py,sha256=Mn9-uVCqoTvfl4REPzHbahTnV02OROuCas9oYgakzMY,15394
+sylk/builder/plugins/SylkProto.py,sha256=h1sPZpiUuGxHU5qZ6PXK0hgUxsbDOuPob4XvwBSPRM4,15528
 sylk/builder/plugins/SylkPyClient.py,sha256=70kWyeRAuGi9Yp6u4O9j-ufP0Wx6t0uNyIeYQJfG-Wc,23411
 sylk/builder/plugins/SylkPyServer.py,sha256=Z0oRCrtIPJ0cz-dFsDMVJ2C2SxE6snrOifOXGYqBzhI,24221
 sylk/builder/plugins/SylkReadme.py,sha256=L8RbtcwxQr9lajCiqSemMgbXjQVQ--B4PY3xCup4jjo,9288
 sylk/builder/plugins/SylkTsClient.py,sha256=8rZWqFt0uRoR2Bfj3Vk_IeeKeoPAGfU_l4FzqrqSCsw,12058
 sylk/builder/plugins/SylkTsServer.py,sha256=sXbHgT_Uy3cOpuzaJemziTysP_ElrvQGGKi9gAKoXeI,18541
 sylk/builder/plugins/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 sylk/builder/plugins/static.py,sha256=8cUOH4yDod1RhvDtVySRiKh9ll87enHsKgPfaHRqCew,26787
@@ -61,20 +61,20 @@
 sylk/cli/commands/run.py,sha256=5I4wir4wcSpk64QzPS7KUtLK5VGMH9iOARjmxFQiB9M,1498
 sylk/cli/commands/template.py,sha256=-ITffseYqu4lOkPPjbLdjsiVqZjRl6Ue-QHeG1MzOaI,28044
 sylk/commons/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 sylk/commons/client_wrapper.py,sha256=lu6qtvshqLz2oSiUBuyButuYMsQb_cRODdZzGGaiW5k,2158
 sylk/commons/config.py,sha256=9i4aalt6acKowaavOk6p3JEcR-EPiYD47YfxUOKu4bc,10725
 sylk/commons/errors.py,sha256=4PopwtMC0GJH9mfShPreM_Z-OP3CA4f1HQy9f_wulUI,2315
 sylk/commons/file_system.py,sha256=YqZ1vO9nTOyzgHxdR35xMcYSvVMCUMH_TVhpGtHuku4,4882
-sylk/commons/helpers.py,sha256=Twq_iYW7LRGtjN4Ng7xQ0Yq48tz0sMvCHB4VDE_SfJg,207631
+sylk/commons/helpers.py,sha256=2ss8zf_ND5w7bT5PTSzzoONdporauziMRV5g3EMsCno,210418
 sylk/commons/interceptors.py,sha256=hHNkZVIToQnJdZHnMJTVkzi6VK9EXz2FCqD4532rQ-4,9426
 sylk/commons/parser.py,sha256=zYJY3MaLZX_3aI6-6UVO5bpSTQb6g8JH9i-mMwaFXL8,2711
 sylk/commons/pretty.py,sha256=VZXtTak3cqSk1V7sSiZryHDfePJF9RT_YJ3XCDivrDY,2665
 sylk/commons/resources.py,sha256=b89vdfhpiNKPai4c1K3AltkWTT_ofU1d0wwAhFH3M9k,46086
-sylk/commons/sylk.py,sha256=bqOvBSsbXHuhBW_H7K4oEu1ZUPScqNG015nXvTk_uHU,33801
+sylk/commons/sylk.py,sha256=C55Krale0CPdeniK4HhIH8EZhd3kagILc_vOUSX1Z_o,33773
 sylk/commons/modules/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 sylk/commons/modules/google/__init__.py,sha256=E8y50_PqsVlJ1L76bXZgR-DeZNTxxl9ju643IsqsRkc,1812
 sylk/commons/protos/__init__.py,sha256=q2B6BiwCUvFvYhwcFobYvkTRvCHxDfCCklMwHOvquvY,73411
 sylk/commons/protos/sylk/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 sylk/commons/protos/sylk/Activities/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 sylk/commons/protos/sylk/Activities/v1/Activities_pb2.py,sha256=va3S7wz5cj0NrTlH0vE7uMBkhOJhagTcO_Ym3NAAEOI,1443
 sylk/commons/protos/sylk/Activities/v1/Activities_pb2_grpc.py,sha256=fx7FENhhOcMh4jiZVS7pa6_G4ljdUGnUlS45qCy5Up4,4570
@@ -263,13 +263,13 @@
 sylk/types/google/rpc/http_pb2.py,sha256=aCZTE0-VTrZckYQXNk4aUx_LGn9RnSelBm7F87VOIsI,1887
 sylk/types/google/rpc/status_pb2.py,sha256=QFo3Hn-qRiWoK4KhN_7GsLgGgE616tl6dl3Q-xFqHe8,1518
 sylk/types/sylk/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 sylk/types/sylk/io/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 sylk/types/sylk/io/pagination_pb2.py,sha256=yuQ3cRcRZqA5_aQrRuKXuYUJqMc0At6d_MxIExecGK8,1428
 sylk/types/sylk/io/service_config_pb2.py,sha256=q0_gJA_IN1kbqDT-cafbVUQpa--JLIs2PJgf9dtcfMY,2843
 tests/test.py,sha256=oMwnYhKQ9oQhgyzxCM6_ONsCvv42e1o2MLbGRhv13pk,1678
-sylk-0.3.3.dist-info/LICENSE,sha256=0JS9uaUEyrP4yzU9ppuPDZscLUYApOQG_CuW1UoWx-o,1053
-sylk-0.3.3.dist-info/METADATA,sha256=7aYv48W5KnfvG_Plp7le0Dlai7aB7GfAlB78vx6iPFk,10238
-sylk-0.3.3.dist-info/WHEEL,sha256=AtBG6SXL3KF_v0NxLf0ehyVOh0cold-JbJYXNGorC6Q,92
-sylk-0.3.3.dist-info/entry_points.txt,sha256=vxjWbM3KS9KzZfBor1wDhJEYbZV8EEMK75EpQukeonU,48
-sylk-0.3.3.dist-info/top_level.txt,sha256=oIr0vt2dCTzxQr-6Ar_gHBX_1X1YjN-yEdZ_MvTm2n0,16
-sylk-0.3.3.dist-info/RECORD,,
+sylk-0.3.4.dist-info/LICENSE,sha256=0JS9uaUEyrP4yzU9ppuPDZscLUYApOQG_CuW1UoWx-o,1053
+sylk-0.3.4.dist-info/METADATA,sha256=l8Q8mzBIitqnKjiKhPcvt5Fov3u1b7TWYJ4kX1FryaI,10230
+sylk-0.3.4.dist-info/WHEEL,sha256=5sUXSg9e4bi7lTLOHcm6QEYwO5TIF1TNbTSVFVjcJcc,92
+sylk-0.3.4.dist-info/entry_points.txt,sha256=vxjWbM3KS9KzZfBor1wDhJEYbZV8EEMK75EpQukeonU,48
+sylk-0.3.4.dist-info/top_level.txt,sha256=oIr0vt2dCTzxQr-6Ar_gHBX_1X1YjN-yEdZ_MvTm2n0,16
+sylk-0.3.4.dist-info/RECORD,,
```

